import React from 'react'
import { useDispatch, useSelector } from 'react-redux'
import { NavLink } from 'react-router-dom'
import { THUNK_ACTION_logout } from '../../../redux/actions/thunks/thunkAuthActions'

export default function Navbar() {
    const user = useSelector((state) => state.user)
    const player = useSelector(state => state.player)
    const room = useSelector(state => state.room)
    const dispatch = useDispatch()
    const logoutHandler = async (e) => {
        e.preventDefault()
        try {
            dispatch(THUNK_ACTION_logout())
        } catch (e) {
            console.log(e)
        }
    }

    return (
      <header className="header">
      <div className="wrapper">
        <NavLink className="header__logo" to="/">
          <img
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/fe/Video-Game-Controller-Icon-IDV-green.svg/2048px-Video-Game-Controller-Icon-IDV-green.svg.png"
            alt="Логотип"
          />
        </NavLink>

        <nav className='navigation'>
          <ul className="navigation__list">
            {!user && (
              <>
                <li className="navigaton__item">
                  <NavLink className="" to="/register">
                    Зарегистрироваться
                  </NavLink>
                </li>
                <li className="navigaton__item">
                  <NavLink className="" to="/login">
                    Войти
                  </NavLink>
                </li>
              </>
            )}
            {user && (
              <>
                <li className="navigaton__item">
                  <NavLink onClick={logoutHandler} className="" to="/logout">
                    Выйти
                  </NavLink>
                </li>
              </>
            )}
          </ul>
        </nav>
      </div>
    </header>
    )
}

